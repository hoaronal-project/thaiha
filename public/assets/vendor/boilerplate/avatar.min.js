(()=>{function a(){$.ajax({url:avatar.url,type:"get",async:!1,success:function(a){$(".avatar-img").attr("src",a)}})}$(document).on("click",".avatar-upload",(function(a){a.preventDefault(),$(this).tooltip("hide"),$("#avatar-file").trigger("click")})),$(document).on("change","#avatar-file",(function(t){var e=new FormData;e.append("avatar",t.target.files[0]),$(".avatar-progress").css("display","flex"),$(".avatar-buttons").hide(),$.ajax({url:$(".avatar-upload").data("link"),type:"post",data:e,contentType:!1,processData:!1,xhr:function(){var a=new window.XMLHttpRequest;return a.upload.addEventListener("progress",(function(a){if(a.lengthComputable){var t=Math.round(a.loaded/a.total*100);$(".avatar-percent").text(t+"%")}}),!1),a},success:function(t){$(".avatar-percent").text("0%"),$(".avatar-progress").hide(),$(".avatar-buttons").css("display","flex"),t.success?(a(),growl(avatar.locales.upload.success)):(console.log(t.message),growl(avatar.locales.upload.error,"error"))}})})),$(document).on("click",".avatar-gravatar",(function(t){t.preventDefault(),$(this).tooltip("hide"),$.ajax({url:$(this).data("link"),type:"post",success:function(t){t.success?(a(),$(".avatar-delete").removeClass("d-none"),growl(avatar.locales.gravatar.success)):growl(avatar.locales.gravatar.error)}})})),$(document).on("click",".avatar-delete",(function(t){t.preventDefault(),$(this).tooltip("hide"),$.ajax({url:$(this).data("link"),type:"post",success:function(){a(),$(".avatar-delete").addClass("d-none"),growl(avatar.locales.delete)}})}))})();