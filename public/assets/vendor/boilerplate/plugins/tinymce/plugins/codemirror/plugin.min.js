tinymce.PluginManager.add("codemirror",(function(e,o){function n(){e.focus(),e.selection.collapse(!0),e.selection.setContent('<span style="display: none;" class="CmCaReT">&#x0;</span>');var n={title:"Source code",url:o+"/source.html",width:Math.round(.8*window.innerWidth),height:Math.round(.8*window.innerHeight),resizable:!0,maximizable:!0,fullScreen:!1,saveCursorPosition:!0,buttons:[{type:"custom",text:"Ok",name:"codemirrorOk",primary:!0},{type:"cancel",text:"Cancel",name:"codemirrorCancel"}],onAction:function(o,n){"codemirrorOk"===n.name&&(document.querySelectorAll(".tox-dialog__body-iframe iframe")[0].contentWindow.submit(),"function"==typeof e.settings.code_change_callback&&e.settings.code_change_callback(e),t.close())}},t=e.windowManager.openUrl(n)}e.ui.registry.addButton("code",{icon:"sourcecode",title:"Source code",tooltip:"Source code",onAction:n}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:n,context:"tools"})}));
